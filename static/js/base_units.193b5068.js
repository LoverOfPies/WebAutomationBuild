(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["base_units"],{"26d3":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Title",{attrs:{title:e.title,back:"false",exim:"false"}}),i("b-container",{staticClass:"p-4",attrs:{fluid:""}},[i("b-row",[i("b-col",{staticClass:"p-2",attrs:{cols:"12",xl:"5"}},[i("b-form",{staticClass:"d-flex flex-wrap",on:{submit:function(t){return t.preventDefault(),e.importTable.apply(null,arguments)}}},[i("div",{staticClass:"mb-2 fs-5 w-100"},[e._v("Системный импорт")]),i("b-form-select",{staticClass:"mb-2",attrs:{id:"settings-import",options:e.importForm.options},model:{value:e.importForm.selected,callback:function(t){e.$set(e.importForm,"selected",t)},expression:"importForm.selected"}}),i("b-form-file",{staticClass:"mb-2 flex-grow-1",attrs:{state:Boolean(e.importForm.file),placeholder:"Выберите файл или перетащите сюда...","drop-placeholder":"Перетащите файл сюда...","browse-text":"Обзор"},model:{value:e.importForm.file,callback:function(t){e.$set(e.importForm,"file",t)},expression:"importForm.file"}}),i("b-button",{attrs:{type:"submit",disabled:e.importForm.disabled,variant:"primary"}},[e._v("Импорт")])],1)],1),i("b-col",{staticClass:"p-2",attrs:{cols:"12",xl:"5","offset-xl":"1"}},[i("b-form",{on:{submit:function(t){return t.preventDefault(),e.exportTable.apply(null,arguments)}}},[i("div",{staticClass:"mb-2 fs-5"},[e._v("Системный экспорт")]),i("b-form-select",{staticClass:"mb-2",attrs:{id:"settings-export",options:e.exportForm.options},model:{value:e.exportForm.selected,callback:function(t){e.$set(e.exportForm,"selected",t)},expression:"exportForm.selected"}}),i("b-button",{attrs:{type:"submit",disabled:e.exportForm.disabled,variant:"primary"}},[e._v("Экспорт")])],1)],1)],1)],1)],1)},a=[],n=(i("d3b7"),i("159b"),i("b0c0"),i("54c2")),o=i("43b3"),s={components:{Title:o["a"]},data:function(){return{API:new n["a"](this),title:"Настройки",importForm:{selected:null,options:[{value:null,text:"Выберите из списка"}],disabled:!0,file:null},exportForm:{selected:null,options:[{value:null,text:"Выберите из списка"}],disabled:!0}}},methods:{getTablesInfo:function(){var e=this;this.API.getTablesInfo().then((function(t){t.forEach((function(t){e.importForm.options.push({value:t.name,text:t.title}),e.exportForm.options.push({value:t.name,text:t.title})}))}))},importTable:function(){console.log(this.importForm),this.API.importTable(this.importForm.selected,this.importForm.file)},exportTable:function(){console.log(this.exportForm)}},watch:{"importForm.selected":function(){this.importForm.disabled=!(!this.importForm.selected||this.importForm.file)},"importForm.file":function(){this.importForm.disabled=!(!this.importForm.selected||this.importForm.file)},"exportForm.selected":function(e){this.exportForm.disabled=!e}},mounted:function(){this.getTablesInfo()}},r=s,d=i("2877"),c=Object(d["a"])(r,l,a,!1,null,null,null);t["default"]=c.exports},"29a8":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Title",{attrs:{title:e.title,back:"true"}}),i("b-container",{staticClass:"p-4",attrs:{fluid:""}},[i("b-row",[i("b-col",{attrs:{cols:"12",xl:"8"}},[null==e.mode?i("search-bar",{attrs:{filter:e.searchFilter},on:{filterChange:e.onFilterChange}}):e._e(),0!=e.filtersData.model.length?i("Filters",{ref:"filters",attrs:{filtersData:e.filtersData},on:{applyFilters:e.onApplyFilters,resetFilters:e.onResetFilters,filterLabelChange:e.onFilterLabelChange}}):e._e(),null==e.mode?i("Table",{attrs:{itemsData:e.itemsData,fieldsData:e.fieldsData,filter:e.searchFilter,isBusy:e.isBusy,perPage:e.perPage,currentPage:e.currentPage,name:e.name}}):e._e(),null!=e.mode&&null==e.groupField?i("SelectGroup",{attrs:{items:e.itemsData,fields:e.fieldsData,id:e.id,name:e.name}}):e._e(),null!=e.mode&&null!=e.groupField?i("RadioGroup",{attrs:{items:e.itemsData,groupField:e.groupField,fields:e.fieldsData,id:e.id,name:e.name}}):e._e(),null==e.mode?i("b-row",[i("b-col",{attrs:{cols:"10"}},[i("Pagination",{attrs:{rows:e.itemRowsLength,perPage:e.perPage,currentPage:e.currentPage},on:{pageChange:e.onPageChange}})],1),i("b-col",{attrs:{cols:"2"}},[i("add-data-btn",{staticClass:"text-end",attrs:{readOnly:e.isReadOnly,fields:e.fieldsData.list,fieldsModels:e.fieldsData.models},on:{addNewRow:e.onAddNewRow}})],1)],1):e._e()],1)],1)],1)],1)},a=[],n=i("ade3"),o=i("1da1"),s=i("5530"),r=(i("96cf"),i("b0c0"),i("2f62")),d=i("54c2"),c=i("43b3"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-row",{staticClass:"mb-4"},[i("b-col",[i("b-form-group",{staticClass:"mb-0"},[i("b-input-group",[i("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Введите для поиска..."},model:{value:e.filterLocal,callback:function(t){e.filterLocal=t},expression:"filterLocal"}}),i("b-input-group-append",[i("b-button",{staticClass:"rounded-0 rounded-end",attrs:{disabled:!e.filterLocal},on:{click:e.clearFilter}},[e._v(" Очистить ")])],1)],1)],1)],1)],1)},p=[],f=(i("4de4"),i("d3b7"),{props:["filter"],data:function(){return{filterLocal:this.filter}},methods:{clearFilter:function(){this.filterLocal=null,this.$emit("filterChange",this.filterLocal)}},watch:{filterLocal:function(e){this.$emit("filterChange",e)}}}),m=f,h=i("2877"),b=Object(h["a"])(m,u,p,!1,null,null,null),g=b.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-row",{staticClass:"mb-4"},[i("b-col",[i("b-row",e._l(e.filtersData.model,(function(t){return i("b-col",{key:t.id,staticClass:"mb-2",attrs:{cols:"12"}},[i("router-link",{attrs:{to:{name:"dict",params:{name:t.key,title:t.multiple}}}},[i("b-button",{staticClass:"w-100"},[e._v(e._s(t.multiple))])],1)],1)})),1)],1),i("b-col",{staticClass:"text-end",attrs:{cols:"8"}},[i("b-row",e._l(e.filtersData.model,(function(t,l){return i("b-col",{key:t.id,staticClass:"mb-2",attrs:{cols:"12"}},[i("b-row",[i("b-col",{staticClass:"position-relative",attrs:{cols:"6"}},[i("label",{staticClass:"text-end lh-lg"},[e._v(e._s(t.label)+":")])]),i("b-col",[i("change-field-modal",{ref:"filter-field-"+t.key,refInFor:!0,attrs:{label:t.text,model:t.key,disabled:t.disabled,resetBtn:!0,rowId:l,items:e.getModelItems(t.key)},on:{updateField:e.onUpdateField,labelChange:e.onLabelChange,resetFilters:e.onResetFilters}})],1)],1)],1)})),1)],1)],1)},F=[],_=(i("7db0"),i("c740"),i("d6cf")),w={components:{ChangeFieldModal:_["a"]},props:["filtersData"],methods:{onUpdateField:function(e){var t=e.id,i=e.fields;this.$emit("applyFilters",{id:t,fields:i})},onLabelChange:function(e){var t=e.id,i=e.model;this.$emit("filterLabelChange",{itemId:t,model:i})},onResetFilters:function(e){this.$emit("resetFilters",e)},getFieldById:function(e,t,i){return this.filtersData.list[t].find((function(t){return t.id==e}))[i]},getModelItems:function(e){var t=this,i=this.filtersData.list[e],l=this.filtersData.model.findIndex((function(t){return t.key==e}));if(0!=l){var a=this.filtersData.model[l-1].key;this.filtersData.state[a]&&""!=this.filtersData.state[a]&&(i=this.filtersData.list[e].filter((function(e){return e[a]==t.filtersData.state[a]})))}return i}}},y=w,k=Object(h["a"])(y,v,F,!1,null,null,null),x=k.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-row",[i("b-col",[i("b-table",{staticClass:"text-nowrap",attrs:{id:"table",items:e.itemsData.list,fields:e.fieldsData.list,"per-page":e.perPage,"current-page":e.currentPage,busy:e.isBusy,filter:e.filter,"sort-desc":e.SDesc,bordered:"",responsive:"","show-empty":""},on:{"update:sortDesc":function(t){e.SDesc=t},"update:sort-desc":function(t){e.SDesc=t}},scopedSlots:e._u([{key:"head(actions)",fn:function(t){return[i("span",[e._v(e._s(t.label))])]}},{key:"cell(name)",fn:function(t){return[i("name-cell",{attrs:{data:t},on:{updateField:e.onUpdateField}})]}},e._l(e.selectableFields,(function(t){return{key:"cell("+t.key+")",fn:function(l){return[i("span",{key:t.id},[i("change-field-modal",{attrs:{label:e.getFieldById(l.item[t.key],t.key,"name"),model:t.key,rowId:l.item.id,items:e.fieldsData.models[t.key]},on:{updateField:e.onUpdateField}})],1)]}}})),{key:"cell(actions)",fn:function(t){return e._l(e.itemsData.actions,(function(l){return i("span",{key:l.id},["route"==l.action?i("router-link",{attrs:{to:e.name+"/"+l.to+"/"+t.item.id}},[i("b-button",{staticClass:"mr-2"},[e._v(e._s(l.label))])],1):e._e(),"delete"==l.action?i("delete-row-btn",{attrs:{label:l.label,rowId:t.item.id},on:{deleteRow:e.onDeleteRow}}):e._e()],1)}))}},{key:"table-busy",fn:function(){return[i("div",{staticClass:"text-center my-2"},[i("b-spinner",{staticClass:"align-middle me-2"}),i("strong",[e._v("Загрузка...")])],1)]},proxy:!0}],null,!0)})],1)],1)},D=[],I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.editing?i("b-input-group",{scopedSlots:e._u([{key:"append",fn:function(){return[i("b-button",{staticClass:"rounded-0",attrs:{variant:"success"},on:{click:e.changeName}},[i("b-icon",{attrs:{icon:"check"}})],1),i("b-button",{staticClass:"rounded-0 rounded-end",attrs:{variant:"danger"},on:{click:function(t){return e.showChangeInput(!1)}}},[i("b-icon",{attrs:{icon:"x"}})],1)]},proxy:!0}])},[i("b-form-input",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):i("div",{staticClass:"text"},[i("span",{staticClass:"me-2"},[e._v(e._s(e.data.value))]),i("b-icon",{staticClass:"cursor-pointer",attrs:{icon:"pencil-square"},on:{click:function(t){return e.showChangeInput(!0)}}})],1)],1)},O=[],P={props:["data"],data:function(){return{editing:!1,value:this.data.value,id:this.data.item.id}},methods:{showChangeInput:function(e){this.value=this.data.value,this.editing=e},changeName:function(){var e={field:"name",value:this.value};this.$emit("updateField",{id:this.id,fields:e}),this.editing=!1}}},$=P,j=(i("9e4c"),Object(h["a"])($,I,O,!1,null,"481b578a",null)),R=j.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("b-button",{attrs:{variant:"danger",id:e.popId}},[e._v(" "+e._s(e.label?e.label:"Удалить")+" ")]),i("b-popover",{attrs:{target:e.popId,title:"Вы уверенны?"}},[i("b-button",{staticClass:"mr-2",attrs:{variant:"success",size:"sm"},on:{click:e.deleteRow}},[i("b-icon",{attrs:{icon:"check",variant:"light"}})],1),i("b-button",{attrs:{size:"sm"},on:{click:e.closePopover}},[e._v(" Отмена ")])],1)],1)},S=[],L=0,E={props:["label","rowId"],data:function(){return L+=1,{popId:"delete-popover-".concat(L)}},methods:{deleteRow:function(){this.closePopover(),this.$emit("deleteRow",this.rowId)},closePopover:function(){this.$root.$emit("bv::hide::popover",this.popId)}}},A=E,T=Object(h["a"])(A,M,S,!1,null,null,null),B=T.exports,N={components:{NameCell:R,ChangeFieldModal:_["a"],DeleteRowBtn:B},props:["itemsData","fieldsData","isBusy","filter","perPage","currentPage","name"],data:function(){return{SDesc:!1}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])(["deleteRow"])),Object(r["d"])(["updateTableItem"])),{},{onUpdateField:function(e){var t=e.id,i=e.fields,l=i.field,a=i.value;console.log("[upd]",this.name,t,l,a),this.updateTableItem({collection:this.name,id:t,field:l,value:a})},onDeleteRow:function(e){this.deleteRow({table_name:this.name,row_id:e})},getFieldById:function(e,t,i){return this.fieldsData.models[t]?this.fieldsData.models[t].find((function(t){return t.id==e}))[i]:""}}),computed:{selectableFields:function(){return this.fieldsData.list.filter((function(e){return"selectable"==e.type}))}}},U=N,G=Object(h["a"])(U,C,D,!1,null,null,null),z=G.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"first-number":"","last-number":"","aria-controls":"table"},model:{value:e.currentPageLocal,callback:function(t){e.currentPageLocal=t},expression:"currentPageLocal"}})},q=[],K={props:["rows","perPage","currentPage"],data:function(){return{currentPageLocal:this.currentPage}},watch:{currentPage:function(e){this.currentPageLocal=e},currentPageLocal:function(e){this.$emit("pageChange",e)}}},H=K,Q=Object(h["a"])(H,J,q,!1,null,null,null),V=Q.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.readOnly?i("b-button",{attrs:{variant:"primary"}},[e._v(" Импорт ")]):i("add-new-row",{attrs:{fields:e.fields,fieldsModels:e.fieldsModels,title:"Добавление записи"},on:{addNewRow:e.onAddNewRow}})],1)},X=[],Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.showAddModal(t.target)}}},[e._v(" Добавить ")]),i("b-modal",{attrs:{id:e.addModal.id,title:e.addModal.title,centered:""},on:{hide:e.resetAddModal},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var l=t.ok,a=t.cancel;return[i("b-button",{attrs:{variant:"danger"},on:{click:function(e){return a()}}},[e._v(" Отмена ")]),i("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.addNewRow(l)}}},[e._v(" OK ")])]}}])},e._l(e.fields,(function(t){return i("b-row",{key:t.id,staticClass:"py-2"},["actions"!=t.key?i("b-col",{staticClass:"position-relative d-flex align-items-center"},[i("label",{staticClass:"mb-0"},[e._v(e._s(t.label)+":")])]):e._e(),"actions"!=t.key?i("b-col",{attrs:{cols:"8"}},[t.type&&"selectable"==t.type?i("change-field-modal",{ref:"change-field-"+t.key,refInFor:!0,attrs:{label:"Не выбрано",model:t.key,rowId:"-1",items:e.fieldsModels[t.key]},on:{updateField:e.onUpdateField,labelChange:e.onLabelChange}}):t.type&&"float"==t.type?i("float-field",{attrs:{model:t.key},on:{updateField:e.onUpdateField}}):t.type&&"integer"==t.type?i("int-field",{attrs:{model:t.key},on:{updateField:e.onUpdateField}}):t.type&&"boolean"==t.type?i("boolean-field",{attrs:{model:t.key},on:{updateField:e.onUpdateField}}):t.type&&"date"==t.type?i("date-field",{attrs:{model:t.key},on:{updateField:e.onUpdateField}}):i("b-form-input",{attrs:{placeholder:"Введите текст"},model:{value:e.addModal.fields[t.key],callback:function(i){e.$set(e.addModal.fields,t.key,i)},expression:"addModal.fields[field.key]"}})],1):e._e()],1)})),1)],1)},Z=[],ee=(i("159b"),i("b64b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-input",{attrs:{type:"number",step:"any","no-wheel":!0,placeholder:"Введите число"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})}),te=[],ie={props:["model"],data:function(){return{input:""}},watch:{input:function(e){var t={field:this.model,value:e};this.$emit("updateField",{id:-1,fields:t})}}},le=ie,ae=Object(h["a"])(le,ee,te,!1,null,null,null),ne=ae.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-input",{attrs:{type:"number",step:"1","no-wheel":!0,placeholder:"Введите целое число"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})},se=[],re={props:["model"],data:function(){return{input:""}},watch:{input:function(e){var t={field:this.model,value:e};this.$emit("updateField",{id:-1,fields:t})}}},de=re,ce=Object(h["a"])(de,oe,se,!1,null,null,null),ue=ce.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form-checkbox",{attrs:{value:e.checked,"unchecked-value":e.unchecked,size:"lg"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)},fe=[],me={props:["model"],data:function(){return{input:!1,checked:!0,unchecked:!1}},watch:{input:function(e){var t={field:this.model,value:e};this.$emit("updateField",{id:-1,fields:t})}}},he=me,be=Object(h["a"])(he,pe,fe,!1,null,null,null),ge=be.exports,ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-datepicker",{attrs:{placeholder:"Выберите дату",locale:"ru","hide-header":!0},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})},Fe=[],_e={props:["model"],data:function(){return{input:""}},watch:{input:function(e){var t={field:this.model,value:e};this.$emit("updateField",{id:-1,fields:t})}}},we=_e,ye=Object(h["a"])(we,ve,Fe,!1,null,null,null),ke=ye.exports,xe={components:{ChangeFieldModal:_["a"],FloatField:ne,IntField:ue,BooleanField:ge,DateField:ke},props:["title","fields","fieldsModels"],data:function(){return{API:new d["a"](this),addModal:{id:"add-row-modal",title:this.title,fields:{}}}},methods:{showAddModal:function(e){this.$bvModal.show(this.addModal.id,e)},resetAddModal:function(){for(var e in this.addModal.fields)this.addModal.fields[e]="",delete this.addModal.fields[e]},onLabelChange:function(e){var t=e.id,i=e.model;this.$refs["change-field-".concat(i)][0].labelReplacement=this.getFieldById(t,i,"name")},onUpdateField:function(e){e._id;var t=e.fields;this.$set(this.addModal.fields,t.field,t.value)},addNewRow:function(e){var t=this,i={};Object.keys(this.addModal.fields).forEach((function(e){i[e]=t.addModal.fields[e]})),this.$emit("addNewRow",i),e()},getFieldById:function(e,t,i){return this.fieldsModels[t].find((function(t){return t.id==e}))[i]}}},Ce=xe,De=Object(h["a"])(Ce,Y,Z,!1,null,null,null),Ie=De.exports,Oe={components:{AddNewRow:Ie},props:["readOnly","fields","fieldsModels"],methods:{onAddNewRow:function(e){this.$emit("addNewRow",e)}}},Pe=Oe,$e=Object(h["a"])(Pe,W,X,!1,null,null,null),je=$e.exports,Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form-group",{attrs:{label:"checkbox group placeholder"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.ariaDescribedby;return e._l(e.items.list,(function(t){return i("b-form-checkbox",{key:t.id,attrs:{checked:t.checked,"aria-describedby":l},on:{change:function(i){return e.changeSelection(i,t.id)}}},[e._v(" "+e._s(t.name)+" ")])}))}}])})],1)},Me=[],Se={props:["items","fields","id","name"],data:function(){return{parent_id:this.id,child_table:this.fields.list[0].key,parent_table:this.fields.list[1].key}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["updateSelection"])),{},{changeSelection:function(e,t){this.updateSelection({collection:this.name,parent:this.parent_table,parent_id:this.parent_id,child:this.child_table,child_id:t,value:e})}})},Le=Se,Ee=Object(h["a"])(Le,Re,Me,!1,null,null,null),Ae=Ee.exports,Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.radioGroups,(function(t,l){return i("b-form-group",{key:l,attrs:{label:"radio group placeholder"}},[i("RadioGroupElement",{attrs:{id:e.id,name:e.name,group:t,index:l,selection:e.groupSelections[l],parent:e.parent_table,child:e.child_table}})],1)})),1)},Be=[],Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-radio-group",{attrs:{stacked:""},on:{change:function(t){return e.changeSelection(t,e.group[e.index].work_stage)}},model:{value:e.localSelection,callback:function(t){e.localSelection=t},expression:"localSelection"}},e._l(e.group,(function(t){return i("b-form-radio",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)},Ue=[],Ge={props:["id","name","group","index","selection","parent","child"],data:function(){return{localSelection:this.selection,prev:null,current:null}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["updateRadioSelection"])),{},{changeSelection:function(e,t){console.log("[changeSelection() radio update]",e,t),this.updateRadioSelection({collection:this.name,parent:this.parent,parent_id:this.id,child:this.child,child_id:this.id,prev:this.prev,current:this.current})}}),watch:{localSelection:function(e,t){this.prev=t,this.current=e}}},ze=Ge,Je=Object(h["a"])(ze,Ne,Ue,!1,null,null,null),qe=Je.exports,Ke={props:["items","groupField","fields","id","name"],components:{RadioGroupElement:qe},data:function(){return{parent_id:this.id,parent_table:this.fields.list[0].key,child_table:this.fields.list[1].key}},computed:{radioGroups:function(){var e=[];return this.items.list.forEach((function(t){e[t.work_stage]||(e[t.work_stage]=[{id:-1,name:"Не выбрано",work_stage:t.work_stage}]),e[t.work_stage].push(t)})),e.filter(Boolean)},groupSelections:function(){for(var e=[],t=0;t<this.radioGroups.length;t++){var i=this.radioGroups[t].filter((function(e){return 1==e.checked})),l=0==i.length?-1:i[0].id;e[t]=l}return e}}},He=Ke,Qe=Object(h["a"])(He,Te,Be,!1,null,null,null),Ve=Qe.exports,We={components:{Title:c["a"],SearchBar:g,Filters:x,Table:z,Pagination:V,AddDataBtn:je,SelectGroup:Ae,RadioGroup:Ve},props:["name","id","parent"],data:function(){return{API:new d["a"](this),searchFilter:null,perPage:10,currentPage:1,isReadOnly:!1}},computed:Object(s["a"])({},Object(r["c"])(["title","mode","groupField","isBusy","isFiltered","itemsData","fieldsData","selectableFields","itemRowsLength","filtersData","filterParams"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["b"])(["getItems","getFieldsModels","getFiltersItems","resetFiltersFromId","getTableInfo","applyFilters","addNewRow"])),Object(r["d"])(["updateFieldsList","resetItemsActions","updateItemsActions","resetFiltersModel","updateFiltersModel","resetFilterState","addTableItem","updateObj","updateFilterLabel"])),{},{onApplyFilters:function(e){e._id;var t=e.fields;this.applyFilters(t),this.getItems({name:[this.name],params:this.filterParams})},resetFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.resetFiltersFromId(e);var t={};0!=e&&(t=this.filterParams),this.getItems({name:[this.name],params:t})},onResetFilters:function(e){this.resetFilters(e)},onFilterChange:function(e){this.searchFilter=e},onFilterLabelChange:function(e){var t=e.itemId,i=e.model;this.updateFilterLabel({itemId:t,model:i})},onPageChange:function(e){this.currentPage=e},onAddNewRow:function(e){this.resetFilters(0),this.addNewRow({table_name:this.name,row:e})},init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTableInfo({name:e.name});case 2:i={},null!==e&&void 0!==e&&e.parent&&(i=Object(n["a"])({},e.parent,e.id)),null!=e.mode&&(i["mode"]=e.mode,i["child"]=e.fieldsData.list[0].key),null!=e.groupField&&(i["child"]=e.fieldsData.list[1].key),e.getItems({name:e.name,params:i});case 7:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.init()},watch:{name:function(){this.init()}}},Xe=We,Ye=Object(h["a"])(Xe,l,a,!1,null,null,null);t["default"]=Ye.exports},"9e4c":function(e,t,i){"use strict";i("f97b")},f97b:function(e,t,i){}}]);
//# sourceMappingURL=base_units.193b5068.js.map